# Story 1.3: Persistent Navigation

## Status
Done

## Story
**As a** User,
**I want** a persistent navigation bar that adapts to scrolling and works on mobile devices,
**so that** I can easily access the main sections of the site from anywhere on the page.

## Acceptance Criteria
1. Navigation bar is fixed at the top of the viewport (`sticky` or `fixed`).
2. Initially transparent background on load (at 0 scroll).
3. Transitions to glassmorphism (`backdrop-blur-md` + `bg-white/5` + `border-b`) after scrolling 50px (FR1).
4. Contains Logo (left), Desktop Links (center/right), and CTA Button (far right).
5. Desktop links scroll smoothly to sections: Services, Work, About, FAQ.
6. Mobile view (<768px) shows a Hamburger icon instead of links.
7. Clicking Hamburger opens a full-screen or slide-over mobile menu with the same links (FR7).
8. Mobile menu uses Framer Motion for entrance/exit animations.
9. Navigation links have a hover effect (e.g., text color change or underline).
10. 'Get Started' CTA is present in the navbar and links to the Contact section (FR3).

## Tasks / Subtasks
- [x] Create `components/sections/Navbar.tsx` (Organism) (AC: 1, 4)
    - [x] Setup `useScroll` hook from Framer Motion or window scroll listener
    - [x] Implement conditional styling based on scroll position > 50px (AC: 2, 3)
- [x] Implement Desktop View
    - [x] Add Logo (Text or SVG)
    - [x] Add Navigation Links array `[{ label, href }]`
    - [x] Add "Get Started" Button (using `components/ui/Button.tsx`) (AC: 10)
- [x] Implement Mobile View (AC: 6, 7)
    - [x] Add `Menu` and `X` icons from `lucide-react`
    - [x] Create Mobile Menu Overlay (AnimatePresence) (AC: 8)
    - [x] Ensure menu closes when a link is clicked
- [x] Integrate Smooth Scrolling
    - [x] Ensure `href="#id"` works with CSS `scroll-behavior: smooth` in `globals.css` (or handle via lenis/framer if requested, but CSS is standard) (AC: 5)
- [x] Add `Navbar` to `app/layout.tsx` or `app/page.tsx` (AC: 1)

## Dev Notes
### Technical Specifications
- **Component**: `Navbar.tsx` [Source: architecture/architecture.md#5-component-architecture--source-tree]
    - Location: `src/components/sections/Navbar.tsx`
    - Type: Client Component (`"use client"`) due to scroll listeners and state.
- **Scroll Behavior** [Source: prd/prd.md#3-requirements-fr1]:
    - Threshold: 50px
    - Effect: Transparent -> Glassmorphism (`backdrop-blur-md`)
- **Mobile Menu** [Source: prd/prd.md#3-requirements-fr7]:
    - Breakpoint: < 768px (`md:` in Tailwind)
    - Interaction: Hamburger menu slide-in/fade-in
    - Animation: Framer Motion
        - Duration: `0.6s`
        - Easing: `[0.22, 1, 0.36, 1]` [Source: front-end-spec.md#3-motion-identity-framer-motion]
- **Entrance Animation** [Source: front-end-spec.md#3-motion-identity-framer-motion]:
    - Initial: `y: -20, opacity: 0`
    - Animate: `y: 0, opacity: 1`
    - Trigger: On mount
- **Links**:
    - Services (`#services`)
    - Work (`#work`)
    - About (`#about`)
    - Contact (`#contact`)

### Icons
- Lucide React: `Menu`, `X` (Close) [Source: architecture/architecture.md#3-tech-stack]

## Testing
### Testing Standards
- **Manual Verification**:
    - Scroll test: verify transition at 50px.
    - Responsive test: verify hamburger appears at <768px.
    - Interaction test: open/close mobile menu.
    - Navigation test: click links and verify smooth scroll to sections.

## Change Log
| Date | Version | Description | Author |
| :--- | :--- | :--- | :--- |
| 2026-02-19 | 1.0 | Initial Draft | Scrum Master |

## Dev Agent Record
### Agent Model Used
Antigravity (Google DeepMind)

### Debug Log References
- Build passed with 0 errors, 3 static routes

### Completion Notes List
- Scroll listener uses passive event for performance
- Mobile menu uses AnimatePresence with staggered link animations
- Logo has gradient text on "Labs" via bg-clip-text
- NAV_LINKS updated to match story spec: Services, Work, About, Contact

### File List
- src/components/sections/Navbar.tsx (New)
- src/app/page.tsx (Modified: Navbar + section anchors)
- src/constants/index.ts (Modified: NAV_LINKS updated)

## QA Results

### QA Review — 2026-02-19 | **PASS ✅**

| AC # | Criteria | Status | Evidence |
| :--- | :--- | :--- | :--- |
| 1 | Navbar fixed at top | ✅ PASS | `fixed top-0` class confirmed, stays at top during scroll |
| 2 | Initially transparent | ✅ PASS | Screenshot `navbar_initial`: transparent bg at scroll 0 |
| 3 | Glassmorphism at 50px scroll | ✅ PASS | Screenshot `navbar_scrolled`: `bg-white/5 backdrop-blur-md border-b` applied |
| 4 | Logo + Links + CTA layout | ✅ PASS | YashLabs logo (left), Services/Work/About/Contact (center), Get Started (right) |
| 5 | Smooth scroll to sections | ✅ PASS | `scrollIntoView({ behavior: 'smooth' })` + `scroll-behavior: smooth` in CSS |
| 6 | Mobile hamburger at <768px | ✅ PASS | Screenshot `navbar_mobile`: hamburger icon visible at 375px |
| 7 | Mobile menu opens on click | ✅ PASS | Screenshot `navbar_mobile_menu`: fullscreen overlay with all links |
| 8 | Framer Motion animations | ✅ PASS | AnimatePresence + staggered link animations (0.6s, easing [0.22,1,0.36,1]) |
| 9 | Link hover effects | ✅ PASS | `hover:text-white transition-colors` on all nav links |
| 10 | Get Started CTA | ✅ PASS | Gradient button in desktop navbar and mobile menu, links to #contact |

**Build:** PASS (0 errors)
**Visual:** All 4 screenshots confirm correct behavior across desktop and mobile.
